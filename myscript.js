function buttonClick(){if(document.getElementById("theButton").classList.contains("button")){counter=counter+1;var e=parseFloat(document.getElementById("freqChoice").options[document.getElementById("freqChoice").selectedIndex].value);var t=parseFloat(document.getElementById("txPowerChoice").options[document.getElementById("txPowerChoice").selectedIndex].value);var n=parseFloat(document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].value);var r=parseFloat(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].value);var i=10*log10(t);var s=85+n+i+r+polarityMismatchLoss();var o=superRound(Math.pow(10,(s-20*log10(e)-32.45)/20),2);var u=superRound(o*.6213,2);document.getElementById("answerinkm").innerHTML=o+"km / "+u+"miles";document.getElementById("answerinfunny").innerHTML=getFunnyAnswer(o);document.getElementById("answerinkm").className="answerkm";document.getElementById("answerinfunny").className="answerfunny";document.getElementById("andnow").className="andnow";document.getElementById("sources").className="sources";document.getElementById("buttonHolder").className="hidden";galabel=e+";"+t+";"+document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text+";"+document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text+";"+counter;ga("send","event","letsfly","click",galabel);_kmq.push(["record","LetsFlyButton",{Settings:galabel}])}}function dropSelect(){document.getElementById("answerinkm").className="hidden";document.getElementById("answerinfunny").className="hidden";document.getElementById("andnow").className="hidden";document.getElementById("sources").className="hidden";var e=document.getElementById("freqChoice").options[document.getElementById("freqChoice").selectedIndex].value;var t=document.getElementById("txPowerChoice").options[document.getElementById("txPowerChoice").selectedIndex].value;var n=document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].value;var r=document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].value;if(e!="unselected"&&t!="unselected"&&n!="unselected"&&r!="unselected"){document.getElementById("theButton").classList.add("button");document.getElementById("buttonHolder").classList.add("positionbutton");document.getElementById("buttonHolder").classList.remove("hidden")}}function infoClick(){var e=window.open("info.html","_blank");e.focus()}function twitterMouseOn(){document.getElementById("tweetlink").innerHTML="Share &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp range"}function twitterMouseOut(){document.getElementById("tweetlink").innerHTML="Share your range"}function polarityMismatchLoss(){var e="circular";var t="circular";if(document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("Rubber ducky")>-1)e="linear";if(document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("Moxon")>-1)e="linear";if(document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("Inverted V")>-1)e="linear";if(document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("Diamond SRH771")>-1)e="linear";if(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Rubber ducky")>-1)t="linear";if(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Patch (8dbi linear)")>-1)t="linear";if(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Patch (11dbi linear)")>-1)t="linear";if(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Patch (14dbi linear)")>-1)t="linear";if(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Yagi")>-1)t="linear";if(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("1/2wave dipole")>-1)t="linear";if(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Turnstyle)")>-1)t="linear";if(e==t)return 0;else return-3}function randomNum(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function log10(e){return Math.log(e)/Math.LN10}function getFunnyAnswer(e){var t=randomNum(1,3);if(t==1){var n=randomNum(1,5);if(n==1)return"Argh matey, that's "+convertRange(e,89)+" the distance from skull cove to treasure island";if(n==2)return"That's "+convertRange(e,384400)+" the distance from earth to the moon";if(n==3)return"That's "+convertRange(e,1.6)+" the distance from the Champs Elysée to the Eiffel Tower";if(n==4)return"That's "+convertRange(e,2.9)+" the height of Mount Olympus";if(n==5)return"That's "+convertRange(e,.82)+" the height of the Burj Khalifa in Dubai"}if(t==2){var n=randomNum(1,6);if(n==1)return"That's as much as "+rangeInFunnyUnits(e,.0012192)+" two-by-fours placed next to each other";if(n==2)return"That's as much as "+rangeInFunnyUnits(e,.07)+" pythons placed head to tail";if(n==3)return"That's as much as "+rangeInFunnyUnits(e,.046)+" motorcycle jumps by Evel Knievel";if(n==4)return"That's as much as "+rangeInFunnyUnits(e,.11)+" of the world longest baguettes";if(n==5)return"That's as much as "+rangeInFunnyUnits(e,.02)+" tall men standing on each other's shoulders";if(n==6)return"That's as much as "+rangeInFunnyUnits(e,.0091)+" kangaroo hops in a row"}if(t==3){var n=randomNum(1,8);if(n==1)return"That's how far a man being chased by a bear runs in "+rangeInTimeMins(e,20)+" minutes";if(n==2)return"That's how far a Porsche 944 drives in "+rangeInTimeMins(e,200)+" minutes";if(n==3)return"That's just "+rangeInTimeSecs(e,1224)+" seconds at the speed of sound";if(n==4)return"That's just "+rangeInTimeSecs(e,2448)+" seconds at the speed of love";if(n==5)return"That's how far an F16 flies in "+rangeInTimeSecs(e,3060)+" seconds";if(n==6)return"That's how far a cheetah runs in "+rangeInTimeMins(e,120)+" minutes";if(n==7)return"That's how far a pigeon flies in "+rangeInTimeMins(e,80)+" minutes";if(n==8)return"That's how far Usain Bolt sprints in "+rangeInTimeMins(e,36)+" minutes"}}function convertRange(e,t){if(e<t)return"1/"+superRound(t/e,2)+"th";if(e==t)return"exactly";if(e>t)return superRound(e/t,2)+" times"}function rangeInFunnyUnits(e,t){return superRound(e/t,2)}function rangeInTimeMins(e,t){return superRound(e/(t/60),2)}function rangeInTimeSecs(e,t){return superRound(e/(t/60/60),2)}function superRound(e,t){if(typeof t==="undefined"||+t===0)return Math.round(e);e=+e;t=+t;if(isNaN(e)||!(typeof t==="number"&&t%1===0))return NaN;e=e.toString().split("e");e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t)));e=e.toString().split("e");return+(e[0]+"e"+(e[1]?+e[1]-t:-t))}function labClick(){ga("send","event","lablink","click");_kmq.push(["record","Lablink"])}function guideClick(){ga("send","event","guidelink","click");_kmq.push(["record","Guidelink"])}function twitterClick(){ga("send","event","tweet","click");_kmq.push(["record","Twitterlink"])}