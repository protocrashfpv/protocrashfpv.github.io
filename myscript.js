function parseparams(){var e=window.location.href,n=document.getElementById("freqChoice"),t=getParameterByName("freq",e);null!=t&&(n.value=t);var o=document.getElementById("txPowerChoice"),d=getParameterByName("pw",e);null!=d&&(o.value=d);var a=document.getElementById("txAntennaChoice"),c=getParameterByName("tx",e);null!=c&&(a.options[parseInt(c)].selected=!0);var i=document.getElementById("rxAntennaChoice"),s=getParameterByName("rx",e);null!=s&&(i.options[parseInt(s)].selected=!0),null!=s&&null!=c&&null!=d&&null!=t&&(dropSelect(),document.getElementById("theButton").click())}function buildShareURL(){var e=parseFloat(document.getElementById("freqChoice").options[document.getElementById("freqChoice").selectedIndex].value),n=parseFloat(document.getElementById("txPowerChoice").options[document.getElementById("txPowerChoice").selectedIndex].value),t=document.getElementById("txAntennaChoice").selectedIndex,o=document.getElementById("rxAntennaChoice").selectedIndex,d=(document.getElementById("answerinkm").innerHTML,encodeURI("http://maxmyrange.com?freq="+e+"*pw="+n+"*tx="+t+"*rx="+o));return encodeURI(d)}function buttonClick(){if(document.getElementById("theButton").classList.contains("button")){counter+=1;var e=parseFloat(document.getElementById("freqChoice").options[document.getElementById("freqChoice").selectedIndex].value),n=parseFloat(document.getElementById("txPowerChoice").options[document.getElementById("txPowerChoice").selectedIndex].value),t=parseFloat(document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].value),o=parseFloat(document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].value),d=85+t+10*log10(n)+o+polarityMismatchLoss(),a=superRound(Math.pow(10,(d-20*log10(e)-32.45)/20),2),c=superRound(.6213*a,2);document.getElementById("answerinkm").innerHTML=a+"km / "+c+"miles",document.getElementById("answerinfunny").innerHTML=getFunnyAnswer(a),document.getElementById("answerinkm").className="answerkm",document.getElementById("answerinfunny").className="answerfunny",document.getElementById("tweetbutton").className="donate, underline2";var i=whatadstoshow();0==i&&(document.getElementById("sources").className="sources",document.getElementById("andnow").className="andnow"),1==i&&(document.getElementById("donate").className="donate",document.getElementById("donatetext").className="andnow"),2==i&&(document.getElementById("adverts").className="sources",document.getElementById("andnow").className="andnow"),3==i&&(document.getElementById("adverts2").className="sources",document.getElementById("andnow").className="andnow"),document.getElementById("buttonHolder").className="hidden",document.getElementById("sistersite").className="hidden",galabel=e+";"+n+";"+document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text+";"+document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text+";"+counter,ga("send","event","letsfly","click",galabel)}}function whatadstoshow(){return Math.floor(10*Math.random()+1)<4?3:2}function dropSelect(){document.getElementById("answerinkm").className="hidden",document.getElementById("answerinfunny").className="hidden",document.getElementById("tweetbutton").className="hidden",document.getElementById("andnow").className="hidden",document.getElementById("donatetext").className="hidden",document.getElementById("sources").className="hidden",document.getElementById("donate").className="hidden",document.getElementById("adverts").className="hidden",document.getElementById("adverts2").className="hidden",document.getElementById("tweetbuttonstep2").className="hidden",document.getElementById("shareurl").className="hidden";var e=document.getElementById("freqChoice").options[document.getElementById("freqChoice").selectedIndex].value,n=document.getElementById("txPowerChoice").options[document.getElementById("txPowerChoice").selectedIndex].value,t=document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].value,o=document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].value;"unselected"!=e&&"unselected"!=n&&"unselected"!=t&&"unselected"!=o&&(document.getElementById("theButton").classList.add("button"),document.getElementById("buttonHolder").classList.add("positionbutton"),document.getElementById("buttonHolder").classList.remove("hidden"),document.getElementById("sistersite").className="sistersite")}function infoClick(){window.open("info.html","_blank").focus()}function infoClickMob(){window.location="info.html"}function polarityMismatchLoss(){var e="circular",n="circular";return document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("Rubber ducky")>-1&&(e="linear"),document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("Moxon")>-1&&(e="linear"),document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("1/2 wave dipole")>-1&&(e="linear"),document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("Inverted V")>-1&&(e="linear"),document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("Diamond SRH771")>-1&&(e="linear"),document.getElementById("txAntennaChoice").options[document.getElementById("txAntennaChoice").selectedIndex].text.indexOf("FPVPro Dipole")>-1&&(e="linear"),document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Rubber ducky")>-1&&(n="linear"),document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Patch (8dbi linear)")>-1&&(n="linear"),document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Patch (11dbi linear)")>-1&&(n="linear"),document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Patch (14dbi linear)")>-1&&(n="linear"),document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Yagi")>-1&&(n="linear"),document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("1/2wave dipole")>-1&&(n="linear"),document.getElementById("rxAntennaChoice").options[document.getElementById("rxAntennaChoice").selectedIndex].text.indexOf("Turnstile)")>-1&&(n="linear"),e==n?0:-3}function randomNum(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function log10(e){return Math.log(e)/Math.LN10}function getFunnyAnswer(e){var n=randomNum(1,3);if(1==n){if(1==(t=randomNum(1,5)))return"Argh matey, that's "+convertRange(e,89)+" the distance from skull cove to treasure island";if(2==t)return"That's "+convertRange(e,384400)+" the distance from earth to the moon";if(3==t)return"That's "+convertRange(e,1.6)+" the distance from the Champs Elysée to the Eiffel Tower";if(4==t)return"That's "+convertRange(e,2.9)+" the height of Mount Olympus";if(5==t)return"That's "+convertRange(e,.82)+" the height of the Burj Khalifa in Dubai"}if(2==n){if(1==(t=randomNum(1,6)))return"That's as much as "+rangeInFunnyUnits(e,.0012192)+" two-by-fours placed next to each other";if(2==t)return"That's as much as "+rangeInFunnyUnits(e,.07)+" pythons placed head to tail";if(3==t)return"That's as much as "+rangeInFunnyUnits(e,.046)+" motorcycle jumps by Evel Knievel";if(4==t)return"That's as much as "+rangeInFunnyUnits(e,.11)+" of the world longest baguettes";if(5==t)return"That's as much as "+rangeInFunnyUnits(e,.02)+" tall men standing on each other's shoulders";if(6==t)return"That's as much as "+rangeInFunnyUnits(e,.0091)+" kangaroo hops in a row"}if(3==n){var t=randomNum(1,8);if(1==t)return"That's how far a man being chased by a bear runs in "+rangeInTimeMins(e,20)+" minutes";if(2==t)return"That's how far a Porsche 944 drives in "+rangeInTimeMins(e,200)+" minutes";if(3==t)return"That's just "+rangeInTimeSecs(e,1224)+" seconds at the speed of sound";if(4==t)return"That's just "+rangeInTimeSecs(e,2448)+" seconds at the speed of love";if(5==t)return"That's how far an F16 flies in "+rangeInTimeSecs(e,3060)+" seconds";if(6==t)return"That's how far a cheetah runs in "+rangeInTimeMins(e,120)+" minutes";if(7==t)return"That's how far a pigeon flies in "+rangeInTimeMins(e,80)+" minutes";if(8==t)return"That's how far Usain Bolt sprints in "+rangeInTimeMins(e,36)+" minutes"}}function convertRange(e,n){return e<n?"1/"+superRound(n/e,2)+"th":e==n?"exactly":e>n?superRound(e/n,2)+" times":void 0}function rangeInFunnyUnits(e,n){return superRound(e/n,2)}function rangeInTimeMins(e,n){return superRound(e/(n/60),2)}function rangeInTimeSecs(e,n){return superRound(e/(n/60/60),2)}function superRound(e,n){return void 0===n||0==+n?Math.round(e):(e=+e,n=+n,isNaN(e)||"number"!=typeof n||n%1!=0?NaN:(e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+n:n))),+((e=e.toString().split("e"))[0]+"e"+(e[1]?+e[1]-n:-n))))}function isOdd(e){return e%2}function labClick(){ga("send","event","lablink","click")}function tweetClick(){document.getElementById("tweetbutton").className="hidden",document.getElementById("shareurl").innerHTML=buildShareURL(),document.getElementById("tweetbuttonstep2").className="shareurl, underline",document.getElementById("shareurl").className="shareurl"}function tweetClickstep2(){var e=document.getElementById("myPopup");SelectText("shareurl"),document.execCommand("copy"),e.classList.toggle("show"),ga("send","event","sharelink","click")}function SelectText(e){var n,t,o=document,d=o.getElementById(e);o.body.createTextRange?((n=document.body.createTextRange()).moveToElementText(d),n.select()):window.getSelection&&(t=window.getSelection(),(n=document.createRange()).selectNodeContents(d),t.removeAllRanges(),t.addRange(n))}function guideAlsoByClick(){ga("send","event","guidealsobylink","click")}function guideClick(){ga("send","event","guidelink","click")}function quizClick(){ga("send","event","quizlink","click")}function twitterClick(){ga("send","event","tweet","click")}function donateClick(){ga("send","event","donate","click")}function angelClick(){ga("send","event","angellink","click")}function getParameterByName(e,n){var t=n.indexOf(e);if(t<0)return null;var o,d=n.substring(t),a=d.indexOf("*"),c=(o=a>0?d.substring(1,a):d).indexOf("=");return o.substring(c+1)}function getPosition(e,n,t){return e.split(n,t).join(n).length}