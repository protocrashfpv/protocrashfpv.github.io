function chart(){$("#container").highcharts({chart:{type:"line"},title:{text:chartTitle},xAxis:{title:{text:xAxisTitle},categories:xAxisLabels},yAxis:{title:{text:"Range (km)"}},series:[{name:"Chosen setup",data:rangePoints}]})}function variableSelect(){var e=document.getElementById("variableChoice").options[document.getElementById("variableChoice").selectedIndex].value,t=parseFloat(advForm.advFreq.value),a=parseFloat(advForm.advTxDb.value),n=parseFloat(advForm.advRxDb.value),s=parseFloat(advForm.gainAdj.value),o=parseFloat(advForm.advSensitivity.value),l=parseFloat(advForm.advPower.value);if("Power"==e){for(rangePoints=[],xAxisLabels=[],rangePoints=[0],xAxisLabels=[0],chartTitle="Power/Range",xAxisTitle="Power (mW)",i=100;2e3>i;i+=100){l=i;var r=10*log10(l),d=-o+a+r+n+s,u=superRound(Math.pow(10,(d-20*log10(t)-32.45)/20),2);rangePoints[rangePoints.length]=u,xAxisLabels[xAxisLabels.length]=i}chart()}else if("Rx Gain"==e){for(rangePoints=[],xAxisLabels=[],chartTitle="Gain/Range",xAxisTitle="Receiver Gain (dBi)",i=1;15>i;i+=1){n=i;var r=10*log10(l),d=-o+a+r+n+s,u=superRound(Math.pow(10,(d-20*log10(t)-32.45)/20),2);rangePoints[rangePoints.length]=u,xAxisLabels[xAxisLabels.length]=i}chart()}else if("Rx Sensitivity"==e){for(rangePoints=[],xAxisLabels=[],chartTitle="Rx Sensitivity/Range",xAxisTitle="Sensitivity (dB)",i=100;i>69;i-=5){o=-i;var r=10*log10(l),d=-o+a+r+n+s,u=superRound(Math.pow(10,(d-20*log10(t)-32.45)/20),2);rangePoints[rangePoints.length]=u,xAxisLabels[xAxisLabels.length]=i}chart()}else if("Frequency"==e){chartTitle="Frequency/Range",xAxisTitle="Frequency (mHz)";var r=10*log10(l),d=-o+a+r+n+s;rangePoints=[],xAxisLabels=[],t=433;var u=superRound(Math.pow(10,(d-20*log10(t)-32.45)/20),2);rangePoints[0]=u,xAxisLabels[0]=433,t=900;var u=superRound(Math.pow(10,(d-20*log10(t)-32.45)/20),2);rangePoints[rangePoints.length]=u,xAxisLabels[xAxisLabels.length]=900,t=1300;var u=superRound(Math.pow(10,(d-20*log10(t)-32.45)/20),2);rangePoints[rangePoints.length]=u,xAxisLabels[xAxisLabels.length]=1300,t=2400;var u=superRound(Math.pow(10,(d-20*log10(t)-32.45)/20),2);rangePoints[rangePoints.length]=u,xAxisLabels[xAxisLabels.length]=2400,t=5800;var u=superRound(Math.pow(10,(d-20*log10(t)-32.45)/20),2);rangePoints[rangePoints.length]=u,xAxisLabels[xAxisLabels.length]=5800,chart()}}function advButtonClick(){if(document.getElementById("theButton").classList.contains("button")){var e=parseFloat(advForm.advFreq.value),t=parseFloat(advForm.advPower.value),a=parseFloat(advForm.advTxDb.value),n=parseFloat(advForm.advRxDb.value),i=parseFloat(advForm.gainAdj.value),s=parseFloat(advForm.advSensitivity.value),o=10*log10(t),l=-s+a+o+n+i,r=superRound(Math.pow(10,(l-20*log10(e)-32.45)/20),2),d=superRound(.6213*r,2);isNumber(r)?(document.getElementById("errorMsg").className="hidden",advCounter+=1,document.getElementById("answerinkm").innerHTML=r+"km / "+d+"miles",document.getElementById("answerinkm").className="answerkmadv",document.getElementById("answerinfunny").className="answerfunny",document.getElementById("variableChoiceDiv").className="centrevariableselect",document.getElementById("chart").className="chart",document.getElementById("buttonHolder").className="hidden",variableSelect(),galabel=e+";"+t+";"+a+";"+n+";"+i+";"+s+";"+advCounter,ga("send","event","letsflyadvanced","click",galabel),_kmq.push(["record","LetsFlyButtonAdvanced",{Settings:galabel}])):document.getElementById("errorMsg").className="errorMsgClass"}}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function infoClick(){var e=window.open("info.html","_blank");e.focus()}function twitterMouseOn(){document.getElementById("tweetlink").innerHTML="Share &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp range"}function twitterMouseOut(){document.getElementById("tweetlink").innerHTML="Share your range"}function randomNum(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function log10(e){return Math.log(e)/Math.LN10}function inputSelect(){document.getElementById("answerinkm").className="hidden",document.getElementById("answerinfunny").className="hidden",document.getElementById("chart").className="hidden",document.getElementById("variableChoiceDiv").className="hidden",""!=advForm.advFreq.value&&""!=advForm.advPower.value&&""!=advForm.advTxDb.value&&""!=advForm.advRxDb.value&&""!=advForm.gainAdj.value&&""!=advForm.advSensitivity.value&&(document.getElementById("theButton").classList.add("button"),document.getElementById("buttonHolder").classList.add("positionadvbutton"),document.getElementById("buttonHolder").classList.remove("hidden"))}function convertRange(e,t){return t>e?"1/"+superRound(t/e,2)+"th":e==t?"exactly":e>t?superRound(e/t,2)+" times":void 0}function superRound(e,t){return"undefined"==typeof t||0===+t?Math.round(e):(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!==0?0/0:(e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]-t:-t))))}function labClick(){ga("send","event","lablinkadv","click"),_kmq.push(["record","Lablinkadv"])}function guideClick(){ga("send","event","guidelinkadv","click"),_kmq.push(["record","Guidelinkadv"])}function twitterClick(){ga("send","event","tweetadv","click"),_kmq.push(["record","Twitterlinkadv"])}var rangePoints,xAxisLabels,chartTitle,xAxisTitle;